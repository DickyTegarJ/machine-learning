<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  </head>
  <body>
    <div class="container mt-5">
        <center>
            <img src="peakpx-c.jpg" alt="" width="35%">
            <h1>One Piece Classifier</h1>
            <h3>Temukan karakter</h3>
            <div>
                <label for="formFileLg" class="form-label">Large file input example</label>
                <input class="form-control form-control-lg" id="upload_file" type="file">
            </div>
            <button type="button" class="btn btn-warning mt-3" onclick="startPredict()">Send</button>

            <h5>karakter kamu adalah:</h5>
            <h2 id="result"></h2>
        </center>
        
    </div>

    <script>
        function startPredict(){
            let formData = new FormData()
            let image = $("#upload_file")[0].files[0]
            formData.append("image",image)

        $.ajax({
            url: "http://127.0.0.1:5000/one-piece",
            type: "POST",
            data: formData,
            contentType: false,
            processData: false,
            success: function(response){
                $('#result').text(response)
            }
        })
    }
    </script>
    

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  </body>
</html>